<!DOCTYPE html><html lang="en"><body><nav class="navbar navbar-default navbar-custom navbar-fixed-top"><div class="container-fluid"><div class="navbar-header page-scroll"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" href="/">thoughts.toString();</a></div><div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"><ul class="nav navbar-nav navbar-right"><li><a href="/archives">Archive</a></li><li><a href="https://github.com/SanderSmee/sandersmee.github.io">Github</a></li></ul></div></div></nav><header class="intro-header" style="background-image:url(https://source.unsplash.com/dC6Pb2JdAqs)"><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class="post-heading"><h1>Combining Spock 1.2 and Junit 5 tests</h1><span class="meta"><span class="meta__item">2018-09-05 </span><span class="meta__item">1 minutes read</span></span></div></div></div></div></header><article><div class="container"><div class="row"><div class="col-lg-4 col-lg-offset-2 col-md-5 col-md-offset-1 post-tags"><a href="/tags/junit/">#junit</a> <a href="/tags/spock/">#spock</a> <a href="/tags/gradle/">#gradle</a></div><div class="col-lg-4 col-md-5 post-categories"><a href="/category/Programming/">Programming</a></div><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class="paragraph"><p>Great projects keep moving forward. <a href="https://junit.org/junit5/" target="_blank" rel="noopener">JUnit5</a> is available since september 2017 and <a href="http://spockframework.org" target="_blank" rel="noopener">Spock</a> 1.2 was completed in september 2018. Since Spock is based on junit4, I wondered what it would take to use Spock 1.2 together with JUnit5.</p></div><a id="more"></a><div class="paragraph"><p>As it turns out, it&#8217;s quite easy to make that happen. JUnit5 comes with a <em>vintage</em> engine to run junit4 based tests. If that is available on the test classpath, your Spock tests run like on junit4.</p></div><div class="paragraph"><p>The following example is based on gradle, and is the minimum for getting started in gradle. It declares the dependencies and instructs gradle to use the JUnit5 <code>JUnitPlatform</code> to execute the tests.</p></div><div class="paragraph"><p>I have a <a href="http://github.com/sandersmee/spock-jupiter" target="_blank" rel="noopener">sample repository</a> that includes a maven <code>pom.xml</code>. The repository also includes a JUnit5 test, to prove that a combination of JUnit5 and Spock tests can exist in the same project.</p></div><div class="listingblock"><div class="title">Listing 1. build.gradle</div><div class="content"><pre class="highlightjs highlight"><code class="language-gradle hljs" data-lang="gradle">plugins {
  id 'java'
  id 'groovy'
}

repositories {
  mavenCentral()
}

sourceCompatibility = 1.8

dependencies {
  testCompile "org.spockframework:spock-core:1.2-groovy-2.5"
  implementation "org.junit.jupiter:junit-jupiter-api:5.3.0"
  testRuntimeOnly "org.junit.vintage:junit-vintage-engine:5.3.0"
}

test {
  useJUnitPlatform()
}</code></pre></div></div><div class="quoteblock"><blockquote><div class="paragraph"><p>Written with Spock 1.2, JUnit 5.3.0, and Gradle 4.10</p></div></blockquote></div></div><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"></div></div></div></article><hr><footer><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center"><li><a href="https://twitter.com/osusso" target="_blank"><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i> <i class="fab fa-twitter fa-stack-1x fa-inverse"></i></span></a></li><li><a href="https://github.com/sandersmee/sandersmee.github.io" target="_blank"><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i> <i class="fab fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a href="mailto:sander.smeman@gmail.com" target="_blank"><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i> <i class="fas fa-envelope fa-stack-1x fa-inverse"></i></span></a></li><li><a href="/atom.xml" target="_blank"><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i> <i class="fas fa-rss fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="copyright text-muted">&copy; 2019 Sander Smeman<br></p><p class="copyright text-muted">Original Theme <a target="_blank" href="http://startbootstrap.com/template-overviews/clean-blog/">Clean Blog</a> from <a href="http://startbootstrap.com/" target="_blank">Start Bootstrap</a></p></div></div></div></footer><script src="//code.jquery.com/jquery-2.1.4.min.js"></script><script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script><script src="/js/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad()</script></body></html>