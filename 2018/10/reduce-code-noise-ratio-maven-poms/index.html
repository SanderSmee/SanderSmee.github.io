<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="I really like maven for the structured way it provides for defining and building a project. But sometimes I wish for a less verbose notation than the XML of the Project Object Model (POM). For example, gradles dependency notation is far shorter than mavens dependency declaration."><meta name="author" content="Sander Smeman"><meta property="og:title" content="Reduce the code to noise ratio of maven POMs"><meta property="og:description" content="I really like maven for the structured way it provides for defining and building a project. But sometimes I wish for a less verbose notation than the XML of the Project Object Model (POM). For example, gradles dependency notation is far shorter than mavens dependency declaration."><meta property="og:site_name" content="&lt;i class=&#34;fas fa-brain&#34;&gt;&lt;/i&gt;.toString();"><meta property="og:type" content="article"><meta property="og:image" content="http://thoughts.tostring.bloghttps://source.unsplash.com/dC6Pb2JdAqs"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@@osusso"><meta name="twitter:image" content="http://thoughts.tostring.bloghttps://source.unsplash.com/dC6Pb2JdAqs"><link rel="dns-prefetch" href="//fonts.googleapis.com"><link rel="dns-prefetch" href="//maxcdn.bootstrapcdn.com"><link rel="dns-prefetch" href="//use.fontawesome.com"><link rel="dns-prefetch" href="//cdnjs.cloudflare.com"><title>Reduce the code to noise ratio of maven POMs - thoughts.toString();</title><script type="text/javascript">"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js").then(function(e){console.log("ServiceWorker registration successful with scope: ",e.scope)},function(e){console.log("ServiceWorker registration failed: ",e)})})</script><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous"><link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css"><!--[if lt IE 9]>
    <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]--><link href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/vs2015.min.css" rel="stylesheet"><script>!function(e,a,t,n,g,c,o){e.GoogleAnalyticsObject="ga",e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),o=a.getElementsByTagName(t)[0],c.async=1,c.src="//www.google-analytics.com/analytics.js",o.parentNode.insertBefore(c,o)}(window,document,"script"),ga("create","UA-8287349-4","auto"),ga("send","pageview")</script></head><body><nav class="navbar navbar-default navbar-custom navbar-fixed-top"><div class="container-fluid"><div class="navbar-header page-scroll"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" href="/">thoughts.toString();</a></div><div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"><ul class="nav navbar-nav navbar-right"><li><a href="/about">About</a></li><li><a href="/archives">Archive</a></li><li><a href="https://github.com/SanderSmee/sandersmee.github.io">Github</a></li></ul></div></div></nav><header class="intro-header" style="background-image:url(//source.unsplash.com/FO7JIlwjOtU)"><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class="post-heading"><h1>Reduce the code to noise ratio of maven POMs</h1><span class="meta"><span class="meta__item">2018-10-28 </span><span class="meta__item">2 minutes read</span></span></div></div></div></div></header><article><div class="container"><div class="row"><div class="col-lg-4 col-lg-offset-2 col-md-5 col-md-offset-1 post-tags"><a href="/tags/maven/">#maven</a> <a href="/tags/yaml/">#yaml</a></div><div class="col-lg-4 col-md-5 post-categories"><a href="/category/Programming/">Programming</a></div><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class="paragraph"><p>I really like maven for the structured way it provides for defining and building a project. But sometimes I wish for a less verbose notation than the XML of the Project Object Model (POM). For example, gradles dependency notation is far shorter than mavens dependency declaration.</p></div><a id="more"></a><div class="paragraph"><p>Looking for a less verbose way to declare a maven POM, I discovered <a href="https://github.com/takari/polyglot-maven" target="_blank" rel="noopener">polyglot maven</a>. It are maven extensions that allow the maven POM to be written in another dialect than XML. Since you see YAML more and more I decided to try that dialect, and see if my maven descriptor would be clearer.</p></div><div class="paragraph"><p>The minimum version of maven this works on, is maven 3.3.1. Since that version it&#8217;s possible to provide per project configuration. or extension of maven.</p></div><div class="olist arabic"><ol class="arabic"><li><p>Create a directory to work in, <code>{projectdir}</code>, and change into it.</p></li><li><p>To register the extensions for maven, create a file <code>{projectdir}/.mvn/extensions.xml</code> and add the extension:</p><div class="listingblock"><div class="title">Listing 1. extensions.xml</div><div class="content"><pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;extensions&gt;
    &lt;extension&gt;
        &lt;groupId&gt;io.takari.polyglot&lt;/groupId&gt;
        &lt;artifactId&gt;polyglot-yaml&lt;/artifactId&gt;
        &lt;version&gt;0.3.1&lt;/version&gt;
    &lt;/extension&gt;
&lt;/extensions&gt;</code></pre></div></div></li><li><p>Now it&#8217;s possible to write the maven POM in YAML, <code>pom.yml</code>:</p><div class="listingblock"><div class="title">Listing 2. pom.yml</div><div class="content"><pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">modelVersion: 4.0.0
groupId: demo.maven.polyglot
artifactId: yml-demo
version: 1.0-SNAPSHOT
name: 'YAML Demo'

dependencies:
- { groupId: org.junit.jupiter, artifactId: junit-jupiter, version: 5.3.1, scope: test }
plugins:
- artifactId: maven-compiler-plugin
    version: 3.8.0
    configuration:
    source: 1.8
    target: 1.8
- artifactId: maven-surefire-plugin
    version: 2.22.1</code></pre></div></div><div class="paragraph"><p>By using the yaml inline map, or dictionary notation declaring a dependency uses way less characters then when using XML.</p></div></li></ol></div><div class="sect1"><h2>Limitations</h2><div class="sectionbody"><div class="paragraph"><p>Although this looks great, there are some limitations to using maven polyglot. Mixing different dialects is not possible, and plugins depending on the XML format will not work with another dialect. I also could not get a multi module project working with polyglot yaml.</p></div></div></div></div><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"></div></div></div></article><hr><footer><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center"><li><a href="https://twitter.com/osusso" target="_blank"><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i> <i class="fab fa-twitter fa-stack-1x fa-inverse"></i></span></a></li><li><a href="https://github.com/sandersmee/sandersmee.github.io" target="_blank"><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i> <i class="fab fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a href="https://www.linkedin.com/in/sandersmeman/" target="_blank"><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i> <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i></span></a></li><li><a href="mailto:sander.smeman@gmail.com" target="_blank"><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i> <i class="fas fa-envelope fa-stack-1x fa-inverse"></i></span></a></li><li><a href="/atom.xml" target="_blank"><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i> <i class="fas fa-rss fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="copyright text-muted">&copy; 2019 Sander Smeman<br></p><p class="copyright text-muted">Original Theme <a target="_blank" href="http://startbootstrap.com/template-overviews/clean-blog/">Clean Blog</a> from <a href="http://startbootstrap.com/" target="_blank">Start Bootstrap</a></p></div></div></div></footer><script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script><script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script><script src="/js/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad()</script></body></html>